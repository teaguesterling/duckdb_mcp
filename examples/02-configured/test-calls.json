{
  "description": "Test calls for the configured MCP server example",
  "calls": [
    {
      "name": "Initialize",
      "request": {
        "jsonrpc": "2.0",
        "id": 1,
        "method": "initialize",
        "params": {
          "protocolVersion": "2024-11-05",
          "capabilities": {},
          "clientInfo": {"name": "test", "version": "1.0"}
        }
      }
    },
    {
      "name": "List tools (should not include execute)",
      "request": {
        "jsonrpc": "2.0",
        "id": 2,
        "method": "tools/list",
        "params": {}
      }
    },
    {
      "name": "Query with JSON format",
      "request": {
        "jsonrpc": "2.0",
        "id": 3,
        "method": "tools/call",
        "params": {
          "name": "query",
          "arguments": {
            "sql": "SELECT 1 AS a, 2 AS b, 'hello' AS c",
            "format": "json"
          }
        }
      }
    },
    {
      "name": "Query with CSV format",
      "request": {
        "jsonrpc": "2.0",
        "id": 4,
        "method": "tools/call",
        "params": {
          "name": "query",
          "arguments": {
            "sql": "SELECT 1 AS a, 2 AS b, 'hello' AS c",
            "format": "csv"
          }
        }
      }
    },
    {
      "name": "Export query results",
      "request": {
        "jsonrpc": "2.0",
        "id": 5,
        "method": "tools/call",
        "params": {
          "name": "export",
          "arguments": {
            "query": "SELECT generate_series AS n FROM generate_series(1, 10)",
            "format": "csv"
          }
        }
      }
    },
    {
      "name": "Try execute (should fail - tool disabled)",
      "request": {
        "jsonrpc": "2.0",
        "id": 6,
        "method": "tools/call",
        "params": {
          "name": "execute",
          "arguments": {
            "statement": "CREATE TABLE test (id INT)"
          }
        }
      },
      "expected_error": true,
      "note": "This should fail because execute tool is disabled"
    },
    {
      "name": "Database info",
      "request": {
        "jsonrpc": "2.0",
        "id": 7,
        "method": "tools/call",
        "params": {
          "name": "database_info",
          "arguments": {}
        }
      }
    }
  ]
}
